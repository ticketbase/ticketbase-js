!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.TB=e()}}(function(){var e,t,n;return function r(e,t,n){function i(f,s){if(!t[f]){if(!e[f]){var u=typeof require=="function"&&require;if(!s&&u)return u(f,!0);if(o)return o(f,!0);var a=new Error("Cannot find module '"+f+"'");throw a.code="MODULE_NOT_FOUND",a}var c=t[f]={exports:{}};e[f][0].call(c.exports,function(t){var n=e[f][1][t];return i(n?n:t)},c,c.exports,r,e,t,n)}return t[f].exports}var o=typeof require=="function"&&require;for(var f=0;f<n.length;f++)i(n[f]);return i}({1:[function(e,t,n){/*
 * Ticketbase client
 * @license MIT
 */
var r={};r.setKey=function(e){r._key=e;return r};r.getKey=function(){if(r._key)return r._key;throw new Error("Ticketbase: No API key. use TB.setKey() first")};r.base="http://api.ticketbase.com/v1";r._request=e("then-request");r.request=function(e,t,n){if(!n)n={};if(!n.qs)n.qs={};if(!n.qs.api_key)n.qs.api_key=r.getKey();var i=r.base+t;return r._request(e,i,n).then(function(e){return e})};var i=r.Scope=function o(){};r.event=function(){return new i};t.exports=r},{"then-request":3}],2:[function(e,t,n){var r=t.exports={};var i=[];var o=false;function f(){if(o){return}o=true;var e;var t=i.length;while(t){e=i;i=[];var n=-1;while(++n<t){e[n]()}t=i.length}o=false}r.nextTick=function(e){i.push(e);if(!o){setTimeout(f,0)}};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";function s(){}r.on=s;r.addListener=s;r.once=s;r.off=s;r.removeListener=s;r.removeAllListeners=s;r.emit=s;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},{}],3:[function(e,t,n){"use strict";var r=e("promise");var i=e("http-response-object");var o=e("./lib/handle-qs.js");t.exports=f;function f(e,t,n,f){var s=new r(function(r,s){var u=new window.XMLHttpRequest;if(typeof e!=="string"){throw new TypeError("The method must be a string.")}if(typeof t!=="string"){throw new TypeError("The URL/path must be a string.")}if(typeof n==="function"){f=n;n={}}if(n===null||n===undefined){n={}}if(typeof n!=="object"){throw new TypeError("Options must be an object (or null).")}if(typeof f!=="function"){f=undefined}e=e.toUpperCase();n.headers=n.headers||{};var a;var c=!!((a=/^([\w-]+:)?\/\/([^\/]+)/.exec(n.uri))&&a[2]!=window.location.host);if(!c)n.headers["X-Requested-With"]="XMLHttpRequest";if(n.qs){t=o(t,n.qs)}if(n.json){n.body=JSON.stringify(n.json);n.headers["content-type"]="application/json"}u.onreadystatechange=function(){if(u.readyState===4){var e={};u.getAllResponseHeaders().split("\r\n").forEach(function(t){var n=t.split(":");if(n.length>1){e[n[0].toLowerCase()]=n.slice(1).join(":").trim()}});r(new i(u.status,e,u.responseText))}};u.open(e,t,true);for(var p in n.headers){u.setRequestHeader(p.toLowerCase(),n.headers[p])}u.send(n.body?n.body:null)});s.getBody=function(){return s.then(function(e){return e.getBody()})};return s.nodeify(f)}},{"./lib/handle-qs.js":4,"http-response-object":5,promise:6}],4:[function(e,t,n){"use strict";var r=e("qs").parse;var i=e("qs").stringify;t.exports=o;function o(e,t){e=e.split("?");var n=e[0];var o=(e[1]||"").split("#")[0];var f=e[1]&&e[1].split("#").length>1?"#"+e[1].split("#")[1]:"";var s=r(o);for(var u in t){s[u]=t[u]}o=i(s);if(o!==""){o="?"+o}return n+o+f}},{qs:12}],5:[function(e,t,n){"use strict";t.exports=r;function r(e,t,n){if(typeof e!=="number"){throw new TypeError("statusCode must be a number but was "+typeof e)}if(t===null){throw new TypeError("headers cannot be null")}if(typeof t!=="object"){throw new TypeError("headers must be an object but was "+typeof t)}this.statusCode=e;this.headers={};for(var r in t){this.headers[r.toLowerCase()]=t[r]}this.body=n}r.prototype.getBody=function(e){if(this.statusCode>=300){var t=new Error("Server responded with status code "+this.statusCode+":\n"+this.body.toString());t.statusCode=this.statusCode;t.headers=this.headers;t.body=this.body;throw t}return e?this.body.toString(e):this.body}},{}],6:[function(e,t,n){"use strict";t.exports=e("./lib/core.js");e("./lib/done.js");e("./lib/es6-extensions.js");e("./lib/node-extensions.js")},{"./lib/core.js":7,"./lib/done.js":8,"./lib/es6-extensions.js":9,"./lib/node-extensions.js":10}],7:[function(e,t,n){"use strict";var r=e("asap");t.exports=i;function i(e){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");if(typeof e!=="function")throw new TypeError("not a function");var t=null;var n=null;var i=[];var s=this;this.then=function(e,t){return new s.constructor(function(n,r){u(new o(e,t,n,r))})};function u(e){if(t===null){i.push(e);return}r(function(){var r=t?e.onFulfilled:e.onRejected;if(r===null){(t?e.resolve:e.reject)(n);return}var i;try{i=r(n)}catch(o){e.reject(o);return}e.resolve(i)})}function a(e){try{if(e===s)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e==="object"||typeof e==="function")){var r=e.then;if(typeof r==="function"){f(r.bind(e),a,c);return}}t=true;n=e;p()}catch(i){c(i)}}function c(e){t=false;n=e;p()}function p(){for(var e=0,t=i.length;e<t;e++)u(i[e]);i=null}f(e,a,c)}function o(e,t,n,r){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.resolve=n;this.reject=r}function f(e,t,n){var r=false;try{e(function(e){if(r)return;r=true;t(e)},function(e){if(r)return;r=true;n(e)})}catch(i){if(r)return;r=true;n(i)}}},{asap:11}],8:[function(e,t,n){"use strict";var r=e("./core.js");var i=e("asap");t.exports=r;r.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){i(function(){throw e})})}},{"./core.js":7,asap:11}],9:[function(e,t,n){"use strict";var r=e("./core.js");var i=e("asap");t.exports=r;function o(e){this.then=function(t){if(typeof t!=="function")return this;return new r(function(n,r){i(function(){try{n(t(e))}catch(i){r(i)}})})}}o.prototype=r.prototype;var f=new o(true);var s=new o(false);var u=new o(null);var a=new o(undefined);var c=new o(0);var p=new o("");r.resolve=function(e){if(e instanceof r)return e;if(e===null)return u;if(e===undefined)return a;if(e===true)return f;if(e===false)return s;if(e===0)return c;if(e==="")return p;if(typeof e==="object"||typeof e==="function"){try{var t=e.then;if(typeof t==="function"){return new r(t.bind(e))}}catch(n){return new r(function(e,t){t(n)})}}return new o(e)};r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){if(t.length===0)return e([]);var r=t.length;function i(o,f){try{if(f&&(typeof f==="object"||typeof f==="function")){var s=f.then;if(typeof s==="function"){s.call(f,function(e){i(o,e)},n);return}}t[o]=f;if(--r===0){e(t)}}catch(u){n(u)}}for(var o=0;o<t.length;o++){i(o,t[o])}})};r.reject=function(e){return new r(function(t,n){n(e)})};r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})};r.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":7,asap:11}],10:[function(e,t,n){"use strict";var r=e("./core.js");var i=e("asap");t.exports=r;r.denodeify=function(e,t){t=t||Infinity;return function(){var n=this;var i=Array.prototype.slice.call(arguments);return new r(function(r,o){while(i.length&&i.length>t){i.pop()}i.push(function(e,t){if(e)o(e);else r(t)});var f=e.apply(n,i);if(f&&(typeof f==="object"||typeof f==="function")&&typeof f.then==="function"){r(f)}})}};r.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments);var n=typeof t[t.length-1]==="function"?t.pop():null;var o=this;try{return e.apply(this,arguments).nodeify(n,o)}catch(f){if(n===null||typeof n=="undefined"){return new r(function(e,t){t(f)})}else{i(function(){n.call(o,f)})}}}};r.prototype.nodeify=function(e,t){if(typeof e!="function")return this;this.then(function(n){i(function(){e.call(t,null,n)})},function(n){i(function(){e.call(t,n)})})}},{"./core.js":7,asap:11}],11:[function(e,t,n){(function(e){var n={task:void 0,next:null};var r=n;var i=false;var o=void 0;var f=false;function s(){while(n.next){n=n.next;var e=n.task;n.task=void 0;var t=n.domain;if(t){n.domain=void 0;t.enter()}try{e()}catch(r){if(f){if(t){t.exit()}setTimeout(s,0);if(t){t.enter()}throw r}else{setTimeout(function(){throw r},0)}}if(t){t.exit()}}i=false}if(typeof e!=="undefined"&&e.nextTick){f=true;o=function(){e.nextTick(s)}}else if(typeof setImmediate==="function"){if(typeof window!=="undefined"){o=setImmediate.bind(window,s)}else{o=function(){setImmediate(s)}}}else if(typeof MessageChannel!=="undefined"){var u=new MessageChannel;u.port1.onmessage=s;o=function(){u.port2.postMessage(0)}}else{o=function(){setTimeout(s,0)}}function a(t){r=r.next={task:t,domain:f&&e.domain,next:null};if(!i){i=true;o()}}t.exports=a}).call(this,e("_process"))},{_process:2}],12:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":13}],13:[function(e,t,n){var r=e("./stringify");var i=e("./parse");var o={};t.exports={stringify:r,parse:i}},{"./parse":14,"./stringify":15}],14:[function(e,t,n){var r=e("./utils");var i={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};i.parseValues=function(e,t){var n={};var i=e.split(t.delimiter,t.parameterLimit===Infinity?undefined:t.parameterLimit);for(var o=0,f=i.length;o<f;++o){var s=i[o];var u=s.indexOf("]=")===-1?s.indexOf("="):s.indexOf("]=")+1;if(u===-1){n[r.decode(s)]=""}else{var a=r.decode(s.slice(0,u));var c=r.decode(s.slice(u+1));if(!n.hasOwnProperty(a)){n[a]=c}else{n[a]=[].concat(n[a]).concat(c)}}}return n};i.parseObject=function(e,t,n){if(!e.length){return t}var r=e.shift();var o={};if(r==="[]"){o=[];o=o.concat(i.parseObject(e,t,n))}else{var f=r[0]==="["&&r[r.length-1]==="]"?r.slice(1,r.length-1):r;var s=parseInt(f,10);var u=""+s;if(!isNaN(s)&&r!==f&&u===f&&s>=0&&s<=n.arrayLimit){o=[];o[s]=i.parseObject(e,t,n)}else{o[f]=i.parseObject(e,t,n)}}return o};i.parseKeys=function(e,t,n){if(!e){return}var r=/^([^\[\]]*)/;var o=/(\[[^\[\]]*\])/g;var f=r.exec(e);if(Object.prototype.hasOwnProperty(f[1])){return}var s=[];if(f[1]){s.push(f[1])}var u=0;while((f=o.exec(e))!==null&&u<n.depth){++u;if(!Object.prototype.hasOwnProperty(f[1].replace(/\[|\]/g,""))){s.push(f[1])}}if(f){s.push("["+e.slice(f.index)+"]")}return i.parseObject(s,t,n)};t.exports=function(e,t){if(e===""||e===null||typeof e==="undefined"){return{}}t=t||{};t.delimiter=typeof t.delimiter==="string"||r.isRegExp(t.delimiter)?t.delimiter:i.delimiter;t.depth=typeof t.depth==="number"?t.depth:i.depth;t.arrayLimit=typeof t.arrayLimit==="number"?t.arrayLimit:i.arrayLimit;t.parameterLimit=typeof t.parameterLimit==="number"?t.parameterLimit:i.parameterLimit;var n=typeof e==="string"?i.parseValues(e,t):e;var o={};var f=Object.keys(n);for(var s=0,u=f.length;s<u;++s){var a=f[s];var c=i.parseKeys(a,n[a],t);o=r.merge(o,c)}return r.compact(o)}},{"./utils":16}],15:[function(e,t,n){var r=e("./utils");var i={delimiter:"&",indices:true};i.stringify=function(e,t,n){if(r.isBuffer(e)){e=e.toString()}else if(e instanceof Date){e=e.toISOString()}else if(e===null){e=""}if(typeof e==="string"||typeof e==="number"||typeof e==="boolean"){return[encodeURIComponent(t)+"="+encodeURIComponent(e)]}var o=[];if(typeof e==="undefined"){return o}var f=Object.keys(e);for(var s=0,u=f.length;s<u;++s){var a=f[s];if(!n.indices&&Array.isArray(e)){o=o.concat(i.stringify(e[a],t,n))}else{o=o.concat(i.stringify(e[a],t+"["+a+"]",n))}}return o};t.exports=function(e,t){t=t||{};var n=typeof t.delimiter==="undefined"?i.delimiter:t.delimiter;t.indices=typeof t.indices==="boolean"?t.indices:i.indices;var r=[];if(typeof e!=="object"||e===null){return""}var o=Object.keys(e);for(var f=0,s=o.length;f<s;++f){var u=o[f];r=r.concat(i.stringify(e[u],u,t))}return r.join(n)}},{"./utils":16}],16:[function(e,t,n){var r={};n.arrayToObject=function(e){var t={};for(var n=0,r=e.length;n<r;++n){if(typeof e[n]!=="undefined"){t[n]=e[n]}}return t};n.merge=function(e,t){if(!t){return e}if(typeof t!=="object"){if(Array.isArray(e)){e.push(t)}else{e[t]=true}return e}if(typeof e!=="object"){e=[e].concat(t);return e}if(Array.isArray(e)&&!Array.isArray(t)){e=n.arrayToObject(e)}var r=Object.keys(t);for(var i=0,o=r.length;i<o;++i){var f=r[i];var s=t[f];if(!e[f]){e[f]=s}else{e[f]=n.merge(e[f],s)}}return e};n.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}};n.compact=function(e,t){if(typeof e!=="object"||e===null){return e}t=t||[];var r=t.indexOf(e);if(r!==-1){return t[r]}t.push(e);if(Array.isArray(e)){var i=[];for(var o=0,f=e.length;o<f;++o){if(typeof e[o]!=="undefined"){i.push(e[o])}}return i}var s=Object.keys(e);for(o=0,f=s.length;o<f;++o){var u=s[o];e[u]=n.compact(e[u],t)}return e};n.isRegExp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"};n.isBuffer=function(e){if(e===null||typeof e==="undefined"){return false}return!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},{}]},{},[1])(1)});