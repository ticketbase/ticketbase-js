// vim:foldmethod=indent

// Variables
  $bg = white
  $text = #333
  $darktext = $text - 50%
  $gray = rgba($text, 0.7)
  $lightgray = rgba($text, 0.4)
  $accent = dodgerblue
  $line = rgba(black, 0.1)

  $spinner-size = 28px
  $spinner-padding = 40px

  $gut = 20px
  $pad = 15px

  @require 'nib'

// Reference
  /*
   *   .tb-container
   *     .tb-ticket-form
   *       i.tb-icon
   *       Sorry, not available at this time
   *   
   *   
   *     form.tb-ticket-form
   *       .tb-header
   *         h1.tb-headline
   *           a This is the event title
   *         h5.tb-subheadline
   *           | Subheadline goes here
   *
   *       // Campaign goal meter
   *       .tb-goalmeter
   *         .tb-progressbar
   *           .tb-progressbar-fill(style="width:30%")
   *         .tb-goalmeter-description
   *           strong.tb-goalmeter-raised $2,000
   *           span.tb-goalmeter-text raised of
   *           span.tb-goalmeter-total $10,000
   *     
   *       // ...items go here
   *
   *       .tb-action
   *         button.tb-submit Order
   *         img.tb-powered-by
   *
   * Items:
   *
   *       // for donations
   *       .tb-donation-items
   *         label.tb-donation
   *           .tb-donation-radio
   *             input(type='radio')
   *     
   *           .tb-donation-info
   *             .tb-title Donate $25
   *             .tb-donation-description ...
   *     
   *           // price (free-text input)
   *           .tb-price.tb-price-open
   *             .tb-donation-amount.tb-prefixed-input
   *               .tb-prefix $
   *               input.tb-input(type='text')
   *     
   *           // price (fixed)
   *           .tb-price.tb-price-fixed
   *             .tb-amount $25.00
   *             .tb-fees + $0.99 fees
   */
    
.tb // Resets
  &-container
    div, span, strong, h1, label, button, a, i
      box-sizing: border-box

    a img
      border: 0

  &-header,
  &-headline,
  &-subheadline,
  &-action,
  &-submit,
  &-powered-by,
  &-ticket-items,
  &-ticket,
  &-ticket-info,
  &-ticket-description,
  &-donation,
  &-donation-items,
  &-donation-info,
  &-donation-amount,
  &-price,
  &-prefix,
  &-amount,
  &-fees,
  &-goalmeter,
  &-goalmeter-description,
  &-goalmeter-raised,
  &-goalmeter-text,
  &-goalmeter-total,
  &-progressbar,
  &-progressbar-fill
    margin: 0
    padding: 0
    border: 0
    font-size: 1em

.tb // Spinner

  &-spinner
    box-sizing: border-box
    display: block
    margin: 0 auto
    width: $spinner-size + 2 * $spinner-padding
    height: @width
    border: 0
    animation: tb-rotate 400ms linear infinite
    position: relative

  &-spinner:before
    position: absolute
    top: $spinner-padding
    left: $spinner-padding

    box-sizing: border-box
    display: block
    content: ''
    width: $spinner-size
    height: $spinner-size
    margin: 0
    padding: 0
    border: solid 2px transparent
    border-left-color: $accent
    border-top-color: $accent
    border-radius: 50%

.tb // Event form

  &-ticket-form
    background: $bg
    color: $text
    border-radius: 3px
    /* box-shadow: 0 2px 2px rgba(0, 0, 0, 0.20); */

  &-ticket-form-error,
  &-ticket-form-closed
    padding: 40px
    text-align: center

.tb // Header

  &-header
    margin: 0
    padding: 30px

  &-headline /*h1*/
    font-size: 1.5em
    line-height: 1.4

  &-headline a
    color: $darktext
    font-weight: normal
    text-decoration: none

  &-subheadline /*h5*/
    font-size: 1.2em
    font-weight: normal
    color: $gray
    margin-top: 0.3em

  &-donation,
  &-ticket
    border-bottom: solid 1px $line
    padding: $pad 2*$pad
    overflow: hidden

.tb // Items

  &-donation-items,
  &-ticket-items
    border-top: solid 1px $line

.tb // Order item (donation, ticket)

  &-info
    display: inline

  &-donation,
  &-ticket
    display: table
    table-layout: fixed
    width: 100%

  &-donation-radio
    width: 10%
    display: table-cell
    vertical-align: middle

  &-donation-info,
  &-ticket-info
    display: table-cell
    vertical-align: middle
    width: 65%

  &-price
    display: table-cell
    vertical-align: middle
    width: 35%
    min-width: 150px

    text-align: right
    font-weight: normal
    line-height: 1.3
    padding-left: $gut

  &-amount
    display: block
    font-size: 1.5em
    color: $gray

  &-fees
    display: block
    white-space: nowrap
    color: $lightgray
    font-size: 0.9em

  &-quantity
    display: table-cell
    vertical-align: middle
    width: 15%
    text-align: right
    padding-left: $gut

  &-quantity input
    width: 50px
    height: 26px
    text-align: center

.tb // Button

  &-action
    padding: 30px
    overflow: hidden

  &-submit
    width: 120px
    height: 40px
    float: left

    background: $accent
    border-radius: 3px

    color: white
    font-size: 1.2em
    font-weight: bold
    margin: 0
    padding: 0
    border: 0
    cursor: pointer

  &-submit:hover,
  &-submit:focus
    background-color: $accent + 5%

  &-submit:active
    background-color: $accent - 5%

  &-powered-by img
    display: block
    height: 30px
    margin-top: 5px
    float: right
    margin-left: 20px

.tb // Misc

  &-donation-amount
    white-space: nowrap

.tb // Campaign goal meter

  $goalmeter-height = 20px

  &-goalmeter
    text-align: right
    overflow: hidden
    padding: 0 30px 15px 30px
    margin-top: -15px

  &-progressbar,
  &-progressbar-fill
    border-radius: 4px

  &-progressbar
    float: left
    width: 200px
    height: 10px
    background: rgba($text, 0.08)
    box-shadow: inset 1px 1px 0 rgba(black, 0.05)
    padding: 2px

    margin-top: (($goalmeter-height - 10px) * 0.5)

  &-progressbar-fill
    height: 6px
    background: $accent
    min-width: 4px

  &-goalmeter-description
    float: right
    margin-left: $gut
    font-weight: normal
    display: inline-block
    line-height: $goalmeter-height
    white-space: nowrap

  &-goalmeter-raised
    font-weight: bold
    color: $darktext

  &-goalmeter-total
    font-weight: normal

  &-goalmeter-text
    color: $gray

  // &-goalmeter-total
.tb // Prefixed input
  $height = 36px

  &-prefixed-input,
  &-prefix,
  &-input
    margin: 0
    padding: 0
    border: 0
    outline: 0
    height: $height
    line-height: $height
    display: inline-block

  &-prefix,
  &-input
    vertical-align: top

  &-prefixed-input
    width: 120px
    background: white
    border: solid 1px #ddd
    border-radius: 4px
    height: $height + 2px

  &-prefix
    padding: 0 10px
    background: rgba(black, 0.05)

  &-input,
  &-input:focus
    background: transparent
    padding: 3px 6px
    border-top-left-radius: 0
    border-bottom-left-radius: 0
    font-size: 1.2em

// Animations
  @keyframes tb-rotate
    0%
      transform: rotate(0)
    100%
      transform: rotate(360deg)
